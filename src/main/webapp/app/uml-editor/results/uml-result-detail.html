<div class="modal-header">
    <button type="button" class="close" data-dismiss="modal" aria-hidden="true"
            ng-click="$close()">&times;
    </button>
    <h4 class="modal-title">{{$ctrl.buildResult.parityWithSampleSolution}} Parity with Sample Solution</h4>
</div>
<div class="modal-body" id="result-detail-body" style="position: relative;" ng-switch on="$ctrl.loading">

    <div class="text-muted" id="result-detail-spinner" ng-switch-when="true"><i
        class="fa fa-circle-o-notch fa-lg fa-spin "></i></div>

    <div ng-switch-when="false" ng-if="$ctrl.buildResult.result != null">

        <p>We have compared your submission with the provided sample solution. You got <strong>{{$ctrl.buildResult.result.score}}
            of {{$ctrl.buildResult.result.maxScore}} ({{$ctrl.buildResult.parityWithSampleSolution}})</strong> and here
            is why:</p>

        <!-- Assessment Errors -->
        <div ng-if="$ctrl.buildResult.result.errors.length > 0">
            <span class="text-danger"><i class="fa fa-lg fa-times-circle-o"></i>&nbsp; Errors: </span>
            <div ng-repeat="error in $ctrl.buildResult.result.errors track by $index" ng-init="lastError = $last">
                <div ng-repeat="error in detail.errors.error">
                    <pre>{{error.errorMessage}}</pre>
                </div>
                <hr ng-if="!lastError">
            </div>
        </div>

    </div>

    <div ng-switch-when="false" ng-if="$ctrl.buildLogs != null">
        <dl class="buildoutput dl-horizontal" ng-hide="$ctrl.buildLogs.length == 0">
            <dt ng-repeat-start="logEntry in $ctrl.buildLogs">{{logEntry.time | date:'yyyy-MM-dd HH:mm:ss'}}</dt>
            <dd ng-repeat-end ng-bind-html="logEntry.log"></dd>
        </dl>
    </div>

    <div ng-switch-when="false" ng-if="$ctrl.buildResult.internalErrorMessage != null">
        <pre>
            {{$ctrl.buildResult.internalErrorMessage}}
        </pre>
    </div>


</div>
<div class="modal-footer">
    <button class="btn btn-default pull-right" ng-click="$close()">Close</button>
</div>
